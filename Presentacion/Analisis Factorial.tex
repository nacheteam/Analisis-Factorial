\documentclass[10pt]{beamer}

\usepackage[utf8]{inputenc}
\usepackage[spanish, es-tabla]{babel}

\usetheme{metropolis}
\usepackage{appendixnumberbeamer}

\usepackage{booktabs}
\usepackage[scale=2]{ccicons}

\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}

\usepackage{caption}
\usepackage{subcaption}

\usepackage{graphicx}

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{esvect}

\usepackage{xspace}
\newcommand{\themename}{\textbf{\textsc{metropolis}}\xspace}

\title{Análisis Factorial}
\author{Ignacio Aguilera Martos}
\date{\today}
\institute{Estadística Multivariante \\ \href{https://github.com/nacheteam/Analisis-Factorial}{Link: \underline{Documentos LaTeX en GitHub}}}

\begin{document}

\maketitle

\begin{frame}[fragile]{Contenidos}
  \setbeamertemplate{section in toc}[sections numbered]
  \tableofcontents[hideallsubsections]
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                          Explicación teórica del modelo                                 %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Explicación teórica del modelo}

\begin{frame}[fragile]{Modelo}
	\vspace{10px}
	\pause
	\metroset{block=fill}
	\begin{alertblock}{Idea de AF}
		El objetivo de este modelo es, dada una matriz de covarianzas o de correlación, ser capaz de explicar esta matriz a partir de factores no observados llamados factores comunes, de forma que se pueda explicar la matriz con un número menor de variables que en un punto inicial.
	\end{alertblock}
	De esta forma matricialmente si tenemos n observaciones de dimensión p tendríamos una matriz
	$F=
	\begin{pmatrix}
	F_{11} & ... & F_{1n} \\
	... & ... & ... \\
	F_{k1} & ... & F_{kn}
	\end{pmatrix}
	$ de factores y 
	$L=
	\begin{pmatrix}
	l_{11} & ... & l_{1k} \\
	... & ... & ... \\
	l_{p1} & ... & l_{pk}	
	\end{pmatrix}
	$ una matriz de coeficientes de forma que $x-\mu = LF + \epsilon$ donde $\epsilon$ es un vector de errores.
\end{frame}

\begin{frame}[fragile]{Tipos de Análisis Factorial}
\vspace{10px}
\pause
\metroset{block=fill}
\begin{block}{Tipos}
	\begin{itemize}
		\item EFA (Exploratory Factor Analysis): se usa para identificar relaciones complejas entre conceptos o grupos de conceptos.
		\pause
		\item CFA (Confirmatory Factor Analsysis): está dirigida a la confirmación de factores que ya se presuponen importantes para explicar la matriz de correlación o covarianza.
	\end{itemize}
\end{block}
\end{frame}

\begin{frame}[fragile]{EFA}
\vspace{10px}
\pause
\metroset{block=fill}
\begin{block}{Procesos de ajuste}
	\begin{itemize}
		\item Máxima verosimilitud: es una buena opción cuando los datos se distribuyen según una normal. Se intenta que el modelo de los factores obtenidos tenga máxima verosimilitud.
		\pause
		\item Factorización en el eje principal: la intención es ir obteniendo factores de forma que el primero tenga la varianza lo más próxima al objetivo, el segundo factor la segunda varianza más próxima a la varianza objetivo, etc. Maximiza la fórmula del modelo.
	\end{itemize}
\end{block}
\end{frame}

\begin{frame}[fragile]{EFA}
	La rotación de factores se emplea para obtener la estructura de factores más simple escogiendo una orientación de los mismos.
	\vspace{10px}
	\pause
	\metroset{block=fill}
	\begin{block}{Rotación de factores}
		\begin{itemize}
			\item Ortogonal: implica que los factores estén incorrelados y busca la estructura más simple.
			\pause
			\item Oblicua: permite que los factores estén correlados y busca la estructura más simple.
		\end{itemize}
	\end{block}
\end{frame}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                         Explicación del ejemplo y uso en R                              %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Explicación del ejemplo en R}

\begin{frame}[fragile]{Instalación}
	\vspace{10px}
	\pause
	\metroset{block=fill}
	\begin{block}{Paquetes a instalar}
		\begin{itemize}
			\item install.packages(``psych''): implementa Análisis Factorial
			\pause
			\item install.packages(``GPArotation''): implementa la Rotación de Factores
			\pause
		\end{itemize}
	\end{block}
	\vspace{10px}
	\pause
	\metroset{block=fill}
	\begin{alertblock}{Importa los paquetes}
		\begin{itemize}
			\item library(psych)
			\pause
			\item library(GPArotation)
			\pause
		\end{itemize}
	\end{alertblock}
\end{frame}

\begin{frame}[fragile]{Funciones}
\vspace{10px}
\pause
\metroset{block=fill}
\begin{block}{Funciones a usar}
	\begin{itemize}
		\item fa: función del paquete psych que implementa Análisis Factorial.
		\pause
		\item factanal: función del paquete stats que implementa Análisis Factorial Exploratorio con máxima verosimilitud.
		\pause
		\item prcomp: función del paquete stats que implementa PCA.
		\pause
		\item principal: función del paquete psych que implementa PCA devolviendo siempre los mejores factores.
	\end{itemize}
	En este caso he usado la función fa como función principal y factanal. Para comparar con PCA he usado principal.
\end{block}
\end{frame}

\begin{frame}[standout]
	\LARGE{¿Preguntas?}
	\vspace{10px}
	\begin{figure}
		\includegraphics[scale=0.5]{./Imagenes/preguntas.png}
	\end{figure}
\end{frame}


\end{document}
